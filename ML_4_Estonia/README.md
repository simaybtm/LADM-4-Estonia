# Machine Learning for Estonia

## Overview
This project is part of my thesis research focused on implementing the Land Administration Domain Model (LADM) into an automated permit checks pipeline, with Estonia as the case study. The main objective is to initialize an LADM-compliant database reflecting the newly created Estonia LADM Profile. The project involves running a primary FME script designed to extract essential information required for the checks and additional data storage purposes. The FME script is tailored to handle IFC encodings of Estonian Spatial Plans, specifically Detailed Plans. To ensure accurate ontological distinction of the data, a machine learning model was developed using synthetic and test data. The model's predictions are utilized within the FME script to categorize spatial layers and validate plan namings effectively.

## Files Included
- `main.py`: The main script orchestrating the entire project.
- `model_creation.py`: Module for the machine learning algorithm.
- `database_v15.sql`: LADM database dump to create the database.
- `extract_data.fmw`: FME script that reads the IFC files of Estonian Detail Plans and writes them to the LADM database.
- `_1_create_synthetic_data.py`: Script for creating synthetic data (if applicable).
- `_2_synthetic_model.py`: Script for synthetic model creation (if applicable).

## Setup Instructions
1. **Environment Setup:**
   - Install required libraries using:
     ```bash
     pip install -r requirements.txt
     ```
     
2. **Running the Project:**
   - Execute the main script `main.py`:
     ```bash
     python main.py
     ```
   - Follow the prompts to enter necessary inputs and configurations.

## Project Details
### `main.py`
This script serves as the main entry point for the project. It orchestrates the following tasks:
- Runs a machine learning algorithm (`model_creation.py`) to predict Estonian discipline names.
- Sets up an LADM database if it does not exist and updates it if necessary.
- Executes an FME workbench script to process IFC files and load data into the database.

### `_1_create_synthetic_data.py`
This script is responsible for creating synthetic data based on predefined mappings of Estonian detailed planning semantics. It outputs the synthetic data in a CSV file, which is used as the training data for the machine learning model.

### `_2_synthetic_model.py`
This script handles the training of the machine learning model. It reads the synthetic data generated by `_1_create_synthetic_data.py`, combines relevant features, and trains a Support Vector Classifier (SVC) using TF-IDF vectorization. The trained model `synthetic_model.pkl` is saved to a file for later use. It also outputs the models predictions in a CSV file called `output.csv` to use as input in the FME script.

### `model_creation.py`
Contains the machine learning algorithm used in the project.

### `database_v15.sql`
SQL dump file used to create the LADM database structure.

### `extract_data.fmw`
FME workbench script used to process IFC files and load data into the database.

## Output Files
- `output.csv`: Results of the machine learning predictions. Used as input in the FME script.
- `synthetic_model.pkl`: Trained machine learning model.
- `extended_synthetic_layer_mapping.csv`: All synthetic data including input IFC data namings.
- `extract_data.log`: Log file of the FME script.

## Notes
- This project only works for IFC files of Estonian Detailed Plans.

## License
This project is licensed under the [MIT License](LICENSE). 
Unless otherwise stated, all content in this repository is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License](https://creativecommons.org/licenses/by-sa/4.0/).


## Contact Information
- **Email:** s.batum@student.tudelft.nl
- **Email:** simay@futureinsight.nl
